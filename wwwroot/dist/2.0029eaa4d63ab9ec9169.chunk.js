webpackJsonp([2],{60:function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var a,n=arguments.length,s=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(s=(n<3?a(s):n>3?a(t,r,s):a(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},n=r(0),s=r(19),i=r(73),c=r(62),l=r(86),d=r(82),f=r(84),p=function(){function e(){}return e}();p=o([n.NgModule({imports:[l.routing,s.SharedModule],declarations:[i.ProfileComponent,d.ChangeNameComponent,f.ChangePasswordComponent],providers:[c.ProfileService]}),a("design:paramtypes",[])],p),t.ProfileModule=p},62:function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var a,n=arguments.length,s=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(s=(n<3?a(s):n>3?a(t,r,s):a(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},n=r(0),s=r(5),i=function(){function e(e){this.dataService=e,this.userNameApi="api/profile/username/",this.changePasswordApi="api/profile/changepassword/"}return e.prototype.changePassword=function(e){return this.dataService.post(this.changePasswordApi,e)},e.prototype.userName=function(e){return e?this.dataService.post(this.userNameApi,e):this.dataService.get(this.userNameApi)},e}();i=o([n.Injectable(),a("design:paramtypes",[s.DataService])],i),t.ProfileService=i},73:function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var a,n=arguments.length,s=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(s=(n<3?a(s):n>3?a(t,r,s):a(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},n=r(0),s=function(){function e(){}return e.prototype.notify=function(e){this.notificationMessage=e},e}();s=o([n.Component({selector:"appc-user-profile",template:r(99)}),a("design:paramtypes",[])],s),t.ProfileComponent=s},82:function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var a,n=arguments.length,s=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(s=(n<3?a(s):n>3?a(t,r,s):a(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},n=r(0),s=r(62),i=r(83),c=function(){function e(e){this.profileService=e,this.userNameModel=new i.ChangeNameModel("",""),this.notification=new n.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;this.profileService.userName().subscribe(function(t){e.userNameModel.firstName=t.firstName,e.userNameModel.lastName=t.lastName},function(t){return e.notification.emit(t[0])})},e.prototype.save=function(){var e=this;this.profileService.userName(this.userNameModel).subscribe(function(t){e.userNameModel.firstName=t.firstName,e.userNameModel.lastName=t.lastName,e.notification.emit("Profile name changed to "+t.firstName+" "+t.lastName)},function(t){return e.notification.emit(t[0])})},e}();o([n.Output(),a("design:type",Object)],c.prototype,"notification",void 0),c=o([n.Component({selector:"appc-change-name",template:r(97)}),a("design:paramtypes",[s.ProfileService])],c),t.ChangeNameComponent=c},83:function(e,t,r){"use strict";var o=function(){function e(e,t){this.firstName=e,this.lastName=t}return e}();t.ChangeNameModel=o},84:function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var a,n=arguments.length,s=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(s=(n<3?a(s):n>3?a(t,r,s):a(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},n=r(0),s=r(4),i=r(62),c=r(85),l=r(6),d=function(){function e(e,t){this.profileService=e,this.fb=t,this.submitted=!1,this.changePasswordModel=new c.ChangePasswordModel("","",""),this.notification=new n.EventEmitter}return e.prototype.ngOnInit=function(){this.changePasswordForm=this.fb.group({oldPassword:["",s.Validators.compose([s.Validators.required,l.ValidationService.passwordValidator])],newPassword:["",s.Validators.compose([s.Validators.required,l.ValidationService.passwordValidator])],confirmPassword:["",s.Validators.compose([s.Validators.required,l.ValidationService.passwordValidator])]})},e.prototype.changePassword=function(){var e=this;this.submitted=!0,this.changePasswordForm.valid&&this.changePasswordForm.dirty&&(this.changePasswordModel.oldPassword=this.changePasswordForm.value.oldPassword,this.changePasswordModel.newPassword=this.changePasswordForm.value.newPassword,this.changePasswordModel.confirmPassword=this.changePasswordForm.value.confirmPassword,this.profileService.changePassword(this.changePasswordModel).subscribe(function(t){e.notification.emit("Password changed successfully")},function(t){e.notification.emit(t[0]),e.changePasswordModel=new c.ChangePasswordModel("","","")}))},e}();o([n.Output(),a("design:type",Object)],d.prototype,"notification",void 0),d=o([n.Component({selector:"appc-change-password",template:r(98)}),a("design:paramtypes",[i.ProfileService,s.FormBuilder])],d),t.ChangePasswordComponent=d},85:function(e,t,r){"use strict";var o=function(){function e(e,t,r){this.oldPassword=e,this.newPassword=t,this.confirmPassword=r}return e}();t.ChangePasswordModel=o},86:function(e,t,r){"use strict";var o=r(2),a=r(73),n=[{path:"",component:a.ProfileComponent}];t.routing=o.RouterModule.forChild(n)},97:function(e,t){e.exports='<div class="col-lg-4">\r\n    <appc-page-heading text="Change User\'s name"></appc-page-heading>\r\n\r\n    <div *ngFor="let error of errors">\r\n        <label class="error">{{error}}</label>\r\n    </div>\r\n    <form class="form-horizontal" #hf="ngForm" novalidate>\r\n        <div class="form-group">\r\n            <label for="firstName">First name</label>\r\n            <input type="text" [class.error]="!firstName.valid" class="form-control input-lg" placeholder="First name" [(ngModel)]="userNameModel.firstName"\r\n                name="firstName" ngControl="firstName" required #firstName="ngModel" />\r\n            <label *ngIf="!firstName.valid && firstName.touched" class="error">\r\n                        FirstName is required\r\n            </label>\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="lastName">Last name</label>\r\n            <input type="text" [class.error]="!lastName.valid" class="form-control input-lg" placeholder="LastName" [(ngModel)]="userNameModel.lastName"\r\n                name="lastName" ngControl="lastName" required #lastName="ngModel" />\r\n            <label *ngIf="!lastName.valid && lastName.touched" class="error">\r\n                            LastName is required\r\n                        </label>\r\n        </div>\r\n\r\n        <button class="btn btn-primary pull-right" (click)="save()" [disabled]="!hf.form.valid">Update</button>\r\n    </form>\r\n</div>'},98:function(e,t){e.exports='<div class="col-lg-6">\r\n    <appc-page-heading text="Change password"></appc-page-heading>\r\n\r\n    <div *ngFor="let error of errors">\r\n        <label class="error">{{error}}</label>\r\n    </div>\r\n\r\n    <form class="form-horizontal" [formGroup]="changePasswordForm" novalidate>\r\n        <div class="form-group">\r\n            <label>Old password</label>\r\n            <input type="password" [class.error]="!changePasswordForm.controls.oldPassword.valid" class="form-control input-lg" placeholder="Old password"\r\n                formControlName="oldPassword" />\r\n            <span [hidden]="changePasswordForm.controls.oldPassword.valid || (changePasswordForm.controls.oldPassword.pristine && !submitted)"\r\n                class="text-danger">\r\n                    Old password is required\r\n            </span>\r\n        </div>\r\n        <div class="form-group">\r\n            <label>New password</label>\r\n            <input type="password" [class.error]="!changePasswordForm.controls.newPassword.valid" class="form-control input-lg" placeholder="New password"\r\n                formControlName="newPassword" />\r\n            <span [hidden]="changePasswordForm.controls.newPassword.valid || (changePasswordForm.controls.newPassword.pristine && !submitted)"\r\n                class="text-danger">\r\n                    New password is required\r\n            </span>\r\n        </div>\r\n        <div class="form-group">\r\n            <label>Confirm password</label>\r\n            <input type="password" [class.error]="!changePasswordForm.controls.confirmPassword.valid" class="form-control input-lg" placeholder="Confirm password"\r\n                formControlName="confirmPassword" />\r\n            <span [hidden]="changePasswordForm.controls.confirmPassword.valid || (changePasswordForm.controls.confirmPassword.pristine && !submitted)"\r\n                class="text-danger">\r\n                    Confirm password is required\r\n            </span>\r\n        </div>\r\n\r\n        <button (click)="changePassword()" class="btn btn-primary pull-right">Change password</button>\r\n\r\n    </form>\r\n</div>'},99:function(e,t){e.exports='<!--Alert message-->\r\n<div class="row">\r\n    <div class="container col-md-4 alert alert-success animated fadeInRight" *ngIf="notificationMessage">\r\n        <button aria-hidden="true" data-dismiss="alert" class="close" type="button" (click)="notificationMessage = \'\'">&times;</button>\r\n        {{notificationMessage}}\r\n    </div>\r\n</div>\r\n\r\n<appc-change-name (notification)="notify($event)"></appc-change-name>\r\n\r\n<appc-change-password (notification)="notify($event)"></appc-change-password>\r\n\r\n'}});
//# sourceMappingURL=2.0029eaa4d63ab9ec9169.bundle.map